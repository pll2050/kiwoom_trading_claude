# ==============================================================================
# 키움증권 API 설정 (Kiwoom API Settings)
# ==============================================================================
kiwoom:
  app_key: "YOUR_KIWOOM_APP_KEY"      # 키움증권 API 앱 키
  app_secret: "YOUR_KIWOOM_APP_SECRET" # 키움증권 API 앱 시크릿
  account_number: "YOUR_ACCOUNT_NUMBER" # 계좌번호

  # 키움증권 REST API 주소
  # ⚠️ Mock API 서버가 다운된 경우 실제 운영 API로 변경하세요
  base_url: "https://mockapi.kiwoom.com"          # Mock API (테스트용)
  websocket_url: "wss://mockapi.kiwoom.com:10000/api/dostk/websocket"

  # 🔴 Mock API 서버 오류 시 아래 운영 도메인 사용:
  # base_url: "https://api.kiwoom.com"
  # websocket_url: "wss://api.kiwoom.com:10000/api/dostk/websocket"

  # 📌 주의: 운영 API는 실제 거래가 실행됩니다!
  # test_mode: true 설정을 확인하세요

# ==============================================================================
# Gemini API 설정 (Gemini API Settings)
# ==============================================================================
gemini:
  api_key: "YOUR_GEMINI_API_KEY" # Google Gemini API 키
  model: "gemini-2.5-flash"   # 사용할 Gemini 모델 (빠르고 효율적)
  # 다른 옵션: gemini-2.5-pro (더 강력), gemini-pro-latest (안정적)

# ==============================================================================
# 거래 설정 (Trading Settings)
# ==============================================================================
trading:
  # 초기 원금 (원) - 기준 금액
  initial_capital: 500000000  # 5억원

  # 종목당 최대 투자 금액 (원)
  # 권장: 총 투자금의 5-10% (5억 기준 2,500만~5,000만원)
  max_investment_per_stock: 25000000  # 2,500만원 (총 5억의 5%)

  # 일일 최대 손실 한도 (원)
  # 권장: 총 투자금의 2% (5억 기준 1,000만원)
  max_daily_loss: 10000000  # 1,000만원 (총 5억의 2%)

  # 테스트 모드 (True: 모의 투자, False: 실전 투자)
  test_mode: true

  # 동적 리스크 관리 (원금 대비 잔고 비율에 따라 전략 조정)
  dynamic_risk_management:
    enabled: true

    # 수익 구간 (원금 대비 100% 이상)
    profit_mode:
      capital_ratio_min: 1.00  # 100% 이상
      max_positions: 12        # 최대 포지션 수 증가
      position_size_pct: 6.0   # 종목당 6% (공격적)
      stop_loss_pct: -2.5      # 손절 -2.5%
      take_profit_pct: 7.0     # 익절 +7%
      ai_confidence_min: 0.70  # AI 신뢰도 70% 이상

    # 정상 구간 (원금 대비 90-100%)
    normal_mode:
      capital_ratio_min: 0.90
      capital_ratio_max: 1.00
      max_positions: 10        # 최대 포지션 수
      position_size_pct: 5.0   # 종목당 5% (정상)
      stop_loss_pct: -3.0      # 손절 -3%
      take_profit_pct: 5.0     # 익절 +5%
      ai_confidence_min: 0.75  # AI 신뢰도 75% 이상

    # 보수적 구간 (원금 대비 80-90%)
    conservative_mode:
      capital_ratio_min: 0.80
      capital_ratio_max: 0.90
      max_positions: 7         # 포지션 수 감소
      position_size_pct: 4.0   # 종목당 4% (보수적)
      stop_loss_pct: -2.0      # 손절 빠르게 -2%
      take_profit_pct: 4.0     # 익절 빠르게 +4%
      ai_confidence_min: 0.80  # AI 신뢰도 80% 이상

    # 매우 보수적 구간 (원금 대비 80% 미만)
    very_conservative_mode:
      capital_ratio_min: 0.00
      capital_ratio_max: 0.80
      max_positions: 5         # 포지션 수 대폭 감소
      position_size_pct: 3.0   # 종목당 3% (매우 보수적)
      stop_loss_pct: -1.5      # 손절 매우 빠르게 -1.5%
      take_profit_pct: 3.0     # 익절 빠르게 +3%
      ai_confidence_min: 0.85  # AI 신뢰도 85% 이상

# ==============================================================================
# 모니터링 설정 (Monitoring Settings)
# ==============================================================================
monitoring:
  # 계좌 조회 주기 (초)
  account_check_interval: 10

  # 잔고 조회 주기 (초)
  balance_check_interval: 10

  # 보유 종목 조회 주기 (초)
  positions_check_interval: 10
